(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-91ce6c9c"],{"0a61":function(e,t,r){"use strict";r("9c7b")},"5c8e":function(e,t,r){"use strict";r.r(t);var n=r("7a23"),a=Object(n["withScopeId"])("data-v-1e927b7e");Object(n["pushScopeId"])("data-v-1e927b7e");var o={class:"root"},c={class:"sttitle"},u={class:"btns"},l={class:"btn"},i={class:"btn"},s=Object(n["createTextVNode"])("添加"),d=Object(n["createTextVNode"])("保存"),m=Object(n["createTextVNode"])("取消"),b={key:1,class:"flex-btns"},f={class:"btn"},p=Object(n["createTextVNode"])("编辑"),v={class:"btn"},j=Object(n["createTextVNode"])("详细配置"),O={class:"btn"},h=Object(n["createTextVNode"])("删除");Object(n["popScopeId"])();var k=a((function(e,t,r,k,g,N){var V=Object(n["resolveComponent"])("SearchOutlined"),y=Object(n["resolveComponent"])("a-button"),C=Object(n["resolveComponent"])("vxe-table-column"),T=Object(n["resolveComponent"])("vxe-button"),D=Object(n["resolveComponent"])("a-popconfirm"),w=Object(n["resolveComponent"])("vxe-table"),x=Object(n["resolveComponent"])("a-card"),_=Object(n["resolveComponent"])("Create"),P=Object(n["resolveComponent"])("Edit");return Object(n["openBlock"])(),Object(n["createBlock"])("section",o,[Object(n["createVNode"])(x,null,{title:a((function(){return[Object(n["createVNode"])("div",c,[Object(n["createVNode"])("div",u,[Object(n["createVNode"])("div",l,[Object(n["createVNode"])(y,{onClick:e.reloadData,type:"primary",shape:"circle"},{icon:a((function(){return[Object(n["createVNode"])(V)]})),_:1},8,["onClick"])]),Object(n["createVNode"])("div",i,[Object(n["createVNode"])(y,{onClick:t[1]||(t[1]=function(){return e.create.showModal()}),type:"primary"},{default:a((function(){return[s]})),_:1})])])])]})),default:a((function(){return[Object(n["createVNode"])(w,{ref:e.$setRef((function(e){return e.xTable})),border:"","show-overflow":"","keep-source":"",data:e.tableData.clusterList,"edit-config":{trigger:"manual",mode:"row",autoClear:!1,tableRules:e.tableRules}},{default:a((function(){return[Object(n["createVNode"])(C,{field:"name",title:"名称"}),Object(n["createVNode"])(C,{field:"projectName",title:"项目名称","edit-render":{name:"editorInput"}}),Object(n["createVNode"])(C,{field:"kind",title:"kind","edit-render":{name:"editorSelect",options:[{id:"Job",name:"Job"},{id:"CronJob",name:"CronJob"}]}}),Object(n["createVNode"])(C,{field:"clusterName",title:"集群名称","edit-render":{name:"editorInput"}}),Object(n["createVNode"])(C,{field:"description",title:"备注说明","edit-render":{name:"editorInput"}}),Object(n["createVNode"])(C,{title:"操作"},{default:a((function(t){var r=t.row;return[e.xTable.isActiveByRow(r)?(Object(n["openBlock"])(),Object(n["createBlock"])(n["Fragment"],{key:0},[Object(n["createVNode"])(T,{onClick:function(t){return e.editSubmit(r)}},{default:a((function(){return[d]})),_:2},1032,["onClick"]),Object(n["createVNode"])(T,{onClick:function(){return e.xTable.clearActived().then((function(){return e.xTable.revertData(r)}))}},{default:a((function(){return[m]})),_:2},1032,["onClick"])],64)):(Object(n["openBlock"])(),Object(n["createBlock"])("div",b,[Object(n["createVNode"])("div",f,[Object(n["createVNode"])(T,{onClick:function(t){return e.xTable.setActiveRow(r)}},{default:a((function(){return[p]})),_:2},1032,["onClick"])]),Object(n["createVNode"])("div",v,[Object(n["createVNode"])(y,{type:"primary",onClick:function(){return e.edit.showModal(r)}},{default:a((function(){return[j]})),_:2},1032,["onClick"])]),Object(n["createVNode"])("div",O,[Object(n["createVNode"])(D,{title:"是否删除这条配置?",onConfirm:function(t){return e.deleteRow(r)}},{default:a((function(){return[Object(n["createVNode"])(y,null,{default:a((function(){return[h]})),_:1})]})),_:2},1032,["onConfirm"])])]))]})),_:1})]})),_:1},8,["data","edit-config"])]})),_:1}),Object(n["createVNode"])(_,{ref:e.$setRef((function(e){return e.create})),onRefresh:e.reloadData},null,8,["onRefresh"]),Object(n["createVNode"])(P,{ref:e.$setRef((function(e){return e.edit})),onRefresh:e.reloadData},null,8,["onRefresh"])])})),g=r("5530"),N=(r("96cf"),r("1da1")),V=r("d4ec"),y=r("bee2"),C=r("262e"),T=r("2caf"),D=r("9ab4"),w=r("964b"),x=r("0613"),_=r("c973"),P=function(e){Object(C["a"])(r,e);var t=Object(T["a"])(r);function r(e){var n;return Object(V["a"])(this,r),n=t.call(this,e),n.service=new _["b"],n.tableData=new _["a"],n}return Object(y["a"])(r,[{key:"consoleTaskTemplate",value:function(){var e=Object(N["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.service.consoleTaskTemplate(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"consoleTaskTemplateSuccess",value:function(){var e=Object(N["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.tableData=t;case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"consoleTaskTemplatePost",value:function(){var e=Object(N["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.service.consoleTaskTemplatePost(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"putConsoleTaskTemplatePost",value:function(){var e=Object(N["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.service.putConsoleTaskTemplatePost(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"delConsoleTaskTemplateName",value:function(){var e=Object(N["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.service.delConsoleTaskTemplateName(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),r}(w["VuexModule"]);Object(D["a"])([Object(w["Action"])({commit:"consoleTaskTemplateSuccess"})],P.prototype,"consoleTaskTemplate",null),Object(D["a"])([w["Mutation"]],P.prototype,"consoleTaskTemplateSuccess",null),Object(D["a"])([w["Action"]],P.prototype,"consoleTaskTemplatePost",null),Object(D["a"])([w["Action"]],P.prototype,"putConsoleTaskTemplatePost",null),Object(D["a"])([w["Action"]],P.prototype,"delConsoleTaskTemplateName",null),P=Object(D["a"])([Object(w["Module"])({store:x["a"]})],P);var R=r("e9d5"),U=(r("a4d3"),r("e01a"),r("b0c0"),r("a9e3"),Object(n["withScopeId"])("data-v-30e2d180"));Object(n["pushScopeId"])("data-v-30e2d180");var q=Object(n["createTextVNode"])("CronJob"),B=Object(n["createTextVNode"])("Job"),M={class:"dynamic"},A=Object(n["createTextVNode"])("添加配置 "),S={class:"dynamic"},I=Object(n["createTextVNode"])("添加配置 ");Object(n["popScopeId"])();var J=U((function(e,t,r,a,o,c){var u=Object(n["resolveComponent"])("a-input"),l=Object(n["resolveComponent"])("a-form-item"),i=Object(n["resolveComponent"])("a-select-option"),s=Object(n["resolveComponent"])("a-select"),d=Object(n["resolveComponent"])("a-col"),m=Object(n["resolveComponent"])("a-row"),b=Object(n["resolveComponent"])("MinusCircleOutlined"),f=Object(n["resolveComponent"])("PlusOutlined"),p=Object(n["resolveComponent"])("a-button"),v=Object(n["resolveComponent"])("a-textarea"),j=Object(n["resolveComponent"])("a-form"),O=Object(n["resolveComponent"])("a-modal");return Object(n["openBlock"])(),Object(n["createBlock"])(O,{width:"45%",title:"配置管理",visible:e.visible,"onUpdate:visible":t[9]||(t[9]=function(t){return e.visible=t}),"confirm-loading":e.loading,onOk:e.handleOk},{default:U((function(){return[Object(n["createVNode"])(j,{class:"root",ref:e.$setRef((function(e){return e.form})),model:e.formData,rules:e.rules,layout:"vertical"},{default:U((function(){return[Object(n["createVNode"])(l,{label:"名称",name:"name"},{default:U((function(){return[Object(n["createVNode"])(u,{value:e.formData.name,"onUpdate:value":t[1]||(t[1]=function(t){return e.formData.name=t})},null,8,["value"])]})),_:1}),Object(n["createVNode"])(l,{label:"项目名称",name:"projectName"},{default:U((function(){return[Object(n["createVNode"])(u,{value:e.formData.projectName,"onUpdate:value":t[2]||(t[2]=function(t){return e.formData.projectName=t})},null,8,["value"])]})),_:1}),Object(n["createVNode"])(l,{label:"集群名称",name:"clusterName"},{default:U((function(){return[Object(n["createVNode"])(u,{value:e.formData.clusterName,"onUpdate:value":t[3]||(t[3]=function(t){return e.formData.clusterName=t})},null,8,["value"])]})),_:1}),Object(n["createVNode"])(l,{label:"kind",name:"kind"},{default:U((function(){return[Object(n["createVNode"])(s,{value:e.formData.kind,"onUpdate:value":t[4]||(t[4]=function(t){return e.formData.kind=t}),placeholder:"请选择 Kind 触发器"},{default:U((function(){return[Object(n["createVNode"])(i,{value:"CronJob"},{default:U((function(){return[q]})),_:1}),Object(n["createVNode"])(i,{value:"Job"},{default:U((function(){return[B]})),_:1})]})),_:1},8,["value"])]})),_:1}),Object(n["createVNode"])(l,{label:"申请空间",name:"requests"},{default:U((function(){return[Object(n["createVNode"])(m,null,{default:U((function(){return[Object(n["createVNode"])(d,{span:12},{default:U((function(){return[Object(n["createVNode"])(u,{value:e.formData.requests.cpu,"onUpdate:value":t[5]||(t[5]=function(t){return e.formData.requests.cpu=t}),placeholder:"请填写 CPU 大小"},null,8,["value"])]})),_:1}),Object(n["createVNode"])(d,{span:12},{default:U((function(){return[Object(n["createVNode"])(u,{value:e.formData.requests.memory,"onUpdate:value":t[6]||(t[6]=function(t){return e.formData.requests.memory=t}),placeholder:"请填写 硬盘 大小"},null,8,["value"])]})),_:1})]})),_:1})]})),_:1}),Object(n["createVNode"])(l,{label:"命令",name:"command"},{default:U((function(){return[Object(n["createVNode"])(u,{value:e.formData.command,"onUpdate:value":t[7]||(t[7]=function(t){return e.formData.command=t}),placeholder:"eg: python manage.py runserver 0.0.0.0:8080"},null,8,["value"])]})),_:1}),(Object(n["openBlock"])(!0),Object(n["createBlock"])(n["Fragment"],null,Object(n["renderList"])(e.formData.args,(function(t,r){return Object(n["openBlock"])(),Object(n["createBlock"])(l,{key:"args".concat(r),label:0===Number(r)?"参数配置":"",name:"args"},{default:U((function(){return[Object(n["createVNode"])(m,null,{default:U((function(){return[Object(n["createVNode"])(d,{span:7},{default:U((function(){return[Object(n["createVNode"])(u,{value:t.name,"onUpdate:value":function(e){return t.name=e},placeholder:"请填写 名称 ."},null,8,["value","onUpdate:value"])]})),_:2},1024),Object(n["createVNode"])(d,{span:7},{default:U((function(){return[Object(n["createVNode"])(u,{value:t.default,"onUpdate:value":function(e){return t.default=e},placeholder:"请填写 默认值 ."},null,8,["value","onUpdate:value"])]})),_:2},1024),Object(n["createVNode"])(d,{span:7},{default:U((function(){return[Object(n["createVNode"])(u,{value:t.description,"onUpdate:value":function(e){return t.description=e},placeholder:"请填写 备注信息 ."},null,8,["value","onUpdate:value"])]})),_:2},1024),Object(n["createVNode"])(d,{span:3},{default:U((function(){return[Object(n["createVNode"])("div",M,[e.formData.args.length>1?(Object(n["openBlock"])(),Object(n["createBlock"])(b,{key:0,class:"dynamic-delete-button",disabled:1===e.formData.args.length,onClick:function(r){return e.removeArgs(t)}},null,8,["disabled","onClick"])):Object(n["createCommentVNode"])("",!0)])]})),_:2},1024)]})),_:2},1024)]})),_:2},1032,["label"])})),128)),Object(n["createVNode"])(l,null,{default:U((function(){return[Object(n["createVNode"])(p,{type:"dashed",class:"dynamic-add-button",onClick:e.addArgs},{default:U((function(){return[Object(n["createVNode"])(f),A]})),_:1},8,["onClick"])]})),_:1}),(Object(n["openBlock"])(!0),Object(n["createBlock"])(n["Fragment"],null,Object(n["renderList"])(e.formData.volumeMounts,(function(t,r){return Object(n["openBlock"])(),Object(n["createBlock"])(l,{key:"vols".concat(r),label:0===Number(r)?"磁盘信息":"",name:"volumeMounts"},{default:U((function(){return[Object(n["createVNode"])(m,null,{default:U((function(){return[Object(n["createVNode"])(d,{span:7},{default:U((function(){return[Object(n["createVNode"])(u,{value:t.name,"onUpdate:value":function(e){return t.name=e},placeholder:"请填写 名称 ."},null,8,["value","onUpdate:value"])]})),_:2},1024),Object(n["createVNode"])(d,{span:7},{default:U((function(){return[Object(n["createVNode"])(u,{value:t.mountPath,"onUpdate:value":function(e){return t.mountPath=e},placeholder:"请填写 默认值 ."},null,8,["value","onUpdate:value"])]})),_:2},1024),Object(n["createVNode"])(d,{span:7}),Object(n["createVNode"])(d,{span:3},{default:U((function(){return[Object(n["createVNode"])("div",S,[e.formData.volumeMounts.length>1?(Object(n["openBlock"])(),Object(n["createBlock"])(b,{key:0,class:"dynamic-delete-button",disabled:1===e.formData.volumeMounts.length,onClick:function(r){return e.removeVolume(t)}},null,8,["disabled","onClick"])):Object(n["createCommentVNode"])("",!0)])]})),_:2},1024)]})),_:2},1024)]})),_:2},1032,["label"])})),128)),Object(n["createVNode"])(l,null,{default:U((function(){return[Object(n["createVNode"])(p,{type:"dashed",class:"dynamic-add-button",onClick:e.addVolume},{default:U((function(){return[Object(n["createVNode"])(f),I]})),_:1},8,["onClick"])]})),_:1}),Object(n["createVNode"])(l,{label:"备注信息",name:"description"},{default:U((function(){return[Object(n["createVNode"])(v,{value:e.formData.description,"onUpdate:value":t[8]||(t[8]=function(t){return e.formData.description=t}),rows:10},null,8,["value"])]})),_:1})]})),_:1},8,["model","rules"])]})),_:1},8,["visible","confirm-loading","onOk"])})),L=(r("c975"),r("a434"),r("d3b7"),r("ac1f"),r("1276"),r("f64c")),$=r("8fc6"),F=r("47ce"),E=r("2ef0"),K=function(e){Object(C["a"])(r,e);var t=Object(T["a"])(r);function r(){var e;return Object(V["a"])(this,r),e=t.call(this,arguments),e.visible=!1,e.loading=!1,e.formData={requests:{},args:[{}],volumeMounts:[{}]},e.rules={name:[{required:!0,message:"请填写 名称 .",trigger:"blur"}],projectName:[{required:!0,message:"请填写 项目名称 .",trigger:"blur"}],clusterName:[{required:!0,message:"请填写 集群名称 .",trigger:"blur"}],kind:[{required:!0,message:"请填写 kind .",trigger:"blur"}],requests:[{validator:function(e,t){return t?t.cpu?t.memory?isNaN(Number(t.cpu))?Promise.reject("CPU 大小 请填写数字 ."):isNaN(Number(t.memory))?Promise.reject("硬盘 大小 请填写数字 ."):Promise.resolve():Promise.reject("请填写 申请 硬盘 大小 ."):Promise.reject("请填写 申请 CPU 大小 ."):Promise.reject("请填写 申请空间 .")},trigger:"blur",required:!0}],command:[{required:!0,message:"请填写 命令 .",trigger:"blur"}],args:[{validator:function(e,t){return console.log(t),Object(E["find"])(t,(function(e){return!e.name||!e.default||!e.description}))?Promise.reject("请保证 名称 默认值 备注信息 不为空 ."):Promise.resolve()},trigger:"blur",required:!0}],volumeMounts:[{validator:function(e,t){return Object(E["find"])(t,(function(e){return!e.name||!e.mountPath}))?Promise.reject("请保证 名称 磁盘路径 不为空 ."):Promise.resolve()},trigger:"blur",required:!0}],description:[{required:!0,message:"请填写 备注 .",trigger:"blur"}]},e}return Object(y["a"])(r,[{key:"showModal",value:function(){this.formData={requests:{},args:[{}],volumeMounts:[{}]},this.loading=!1,this.visible=!0}},{key:"removeArgs",value:function(e){var t=this.formData.args.indexOf(e);-1!==t&&this.formData.args.splice(t,1)}},{key:"addArgs",value:function(){this.formData.args.push({})}},{key:"removeVolume",value:function(e){var t=this.formData.volumeMounts.indexOf(e);-1!==t&&this.formData.volumeMounts.splice(t,1)}},{key:"addVolume",value:function(){this.formData.volumeMounts.push({})}},{key:"handleOk",value:function(){var e=Object(N["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.form.validate().then(Object(N["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loading=!0,e.next=3,t.consoleTaskTemplatePost(Object(g["a"])(Object(g["a"])({},t.formData),{},{requests:{cpu:Number(t.formData.requests.cpu),memory:Number(t.formData.requests.memory)},command:t.formData.command.split(" ")}));case 3:if(r=e.sent,!r.err&&!r.errmsg){e.next=9;break}return e.next=7,L["a"].error(r.errmsg||"添加失败 .");case 7:e.next=11;break;case 9:return e.next=11,L["a"].success("添加成功 .");case 11:return t.loading=!1,t.visible=!1,e.next=15,t.$emit("refresh");case 15:return e.abrupt("return",e.sent);case 16:case"end":return e.stop()}}),e)})))).catch((function(e){return e}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"consoleTaskTemplatePost",get:function(){return Object(w["useAction"])(P).consoleTaskTemplatePost}}]),r}(w["Vue"]);K=Object(D["a"])([Object(w["Component"])({components:{MinusCircleOutlined:$["a"],PlusOutlined:F["a"]}})],K);var X=K;r("6af5");X.render=J,X.__scopeId="data-v-30e2d180";var z=X,G=Object(n["withScopeId"])("data-v-906c3720");Object(n["pushScopeId"])("data-v-906c3720");var H=Object(n["createTextVNode"])("CronJob"),Q=Object(n["createTextVNode"])("Job"),W={class:"dynamic"},Y=Object(n["createTextVNode"])("添加配置 "),Z={class:"dynamic"},ee=Object(n["createTextVNode"])("添加配置 ");Object(n["popScopeId"])();var te=G((function(e,t,r,a,o,c){var u=Object(n["resolveComponent"])("a-input"),l=Object(n["resolveComponent"])("a-form-item"),i=Object(n["resolveComponent"])("a-select-option"),s=Object(n["resolveComponent"])("a-select"),d=Object(n["resolveComponent"])("a-col"),m=Object(n["resolveComponent"])("a-row"),b=Object(n["resolveComponent"])("MinusCircleOutlined"),f=Object(n["resolveComponent"])("PlusOutlined"),p=Object(n["resolveComponent"])("a-button"),v=Object(n["resolveComponent"])("a-textarea"),j=Object(n["resolveComponent"])("a-form"),O=Object(n["resolveComponent"])("a-modal");return Object(n["openBlock"])(),Object(n["createBlock"])(O,{width:"45%",title:"配置管理",visible:e.visible,"onUpdate:visible":t[9]||(t[9]=function(t){return e.visible=t}),"confirm-loading":e.loading,onOk:e.handleOk},{default:G((function(){return[Object(n["createVNode"])(j,{class:"root",ref:e.$setRef((function(e){return e.form})),model:e.formData,rules:e.rules,layout:"vertical"},{default:G((function(){return[Object(n["createVNode"])(l,{label:"名称",name:"name"},{default:G((function(){return[Object(n["createVNode"])(u,{value:e.formData.name,"onUpdate:value":t[1]||(t[1]=function(t){return e.formData.name=t}),disabled:!0},null,8,["value"])]})),_:1}),Object(n["createVNode"])(l,{label:"项目名称",name:"projectName"},{default:G((function(){return[Object(n["createVNode"])(u,{value:e.formData.projectName,"onUpdate:value":t[2]||(t[2]=function(t){return e.formData.projectName=t})},null,8,["value"])]})),_:1}),Object(n["createVNode"])(l,{label:"集群名称",name:"clusterName"},{default:G((function(){return[Object(n["createVNode"])(u,{value:e.formData.clusterName,"onUpdate:value":t[3]||(t[3]=function(t){return e.formData.clusterName=t})},null,8,["value"])]})),_:1}),Object(n["createVNode"])(l,{label:"kind",name:"kind"},{default:G((function(){return[Object(n["createVNode"])(s,{value:e.formData.kind,"onUpdate:value":t[4]||(t[4]=function(t){return e.formData.kind=t}),placeholder:"请选择 Kind 触发器"},{default:G((function(){return[Object(n["createVNode"])(i,{value:"CronJob"},{default:G((function(){return[H]})),_:1}),Object(n["createVNode"])(i,{value:"Job"},{default:G((function(){return[Q]})),_:1})]})),_:1},8,["value"])]})),_:1}),Object(n["createVNode"])(l,{label:"申请空间",name:"requests"},{default:G((function(){return[Object(n["createVNode"])(m,null,{default:G((function(){return[Object(n["createVNode"])(d,{span:12},{default:G((function(){return[Object(n["createVNode"])(u,{value:e.formData.requests.cpu,"onUpdate:value":t[5]||(t[5]=function(t){return e.formData.requests.cpu=t}),placeholder:"请填写 CPU 大小"},null,8,["value"])]})),_:1}),Object(n["createVNode"])(d,{span:12},{default:G((function(){return[Object(n["createVNode"])(u,{value:e.formData.requests.memory,"onUpdate:value":t[6]||(t[6]=function(t){return e.formData.requests.memory=t}),placeholder:"请填写 硬盘 大小"},null,8,["value"])]})),_:1})]})),_:1})]})),_:1}),Object(n["createVNode"])(l,{label:"命令",name:"command"},{default:G((function(){return[Object(n["createVNode"])(u,{value:e.formData.command,"onUpdate:value":t[7]||(t[7]=function(t){return e.formData.command=t}),placeholder:"eg: python manage.py runserver 0.0.0.0:8080"},null,8,["value"])]})),_:1}),(Object(n["openBlock"])(!0),Object(n["createBlock"])(n["Fragment"],null,Object(n["renderList"])(e.formData.args,(function(t,r){return Object(n["openBlock"])(),Object(n["createBlock"])(l,{key:"args".concat(r),label:0===Number(r)?"参数配置":"",name:"args"},{default:G((function(){return[Object(n["createVNode"])(m,null,{default:G((function(){return[Object(n["createVNode"])(d,{span:7},{default:G((function(){return[Object(n["createVNode"])(u,{value:t.name,"onUpdate:value":function(e){return t.name=e},placeholder:"请填写 名称 ."},null,8,["value","onUpdate:value"])]})),_:2},1024),Object(n["createVNode"])(d,{span:7},{default:G((function(){return[Object(n["createVNode"])(u,{value:t.default,"onUpdate:value":function(e){return t.default=e},placeholder:"请填写 默认值 ."},null,8,["value","onUpdate:value"])]})),_:2},1024),Object(n["createVNode"])(d,{span:7},{default:G((function(){return[Object(n["createVNode"])(u,{value:t.description,"onUpdate:value":function(e){return t.description=e},placeholder:"请填写 备注信息 ."},null,8,["value","onUpdate:value"])]})),_:2},1024),Object(n["createVNode"])(d,{span:3},{default:G((function(){return[Object(n["createVNode"])("div",W,[e.formData.args.length>1?(Object(n["openBlock"])(),Object(n["createBlock"])(b,{key:0,class:"dynamic-delete-button",disabled:1===e.formData.args.length,onClick:function(r){return e.removeArgs(t)}},null,8,["disabled","onClick"])):Object(n["createCommentVNode"])("",!0)])]})),_:2},1024)]})),_:2},1024)]})),_:2},1032,["label"])})),128)),Object(n["createVNode"])(l,null,{default:G((function(){return[Object(n["createVNode"])(p,{type:"dashed",class:"dynamic-add-button",onClick:e.addArgs},{default:G((function(){return[Object(n["createVNode"])(f),Y]})),_:1},8,["onClick"])]})),_:1}),(Object(n["openBlock"])(!0),Object(n["createBlock"])(n["Fragment"],null,Object(n["renderList"])(e.formData.volumeMounts,(function(t,r){return Object(n["openBlock"])(),Object(n["createBlock"])(l,{key:"vols".concat(r),label:0===Number(r)?"磁盘信息":"",name:"volumeMounts"},{default:G((function(){return[Object(n["createVNode"])(m,null,{default:G((function(){return[Object(n["createVNode"])(d,{span:7},{default:G((function(){return[Object(n["createVNode"])(u,{value:t.name,"onUpdate:value":function(e){return t.name=e},placeholder:"请填写 名称 ."},null,8,["value","onUpdate:value"])]})),_:2},1024),Object(n["createVNode"])(d,{span:7},{default:G((function(){return[Object(n["createVNode"])(u,{value:t.mountPath,"onUpdate:value":function(e){return t.mountPath=e},placeholder:"请填写 默认值 ."},null,8,["value","onUpdate:value"])]})),_:2},1024),Object(n["createVNode"])(d,{span:7}),Object(n["createVNode"])(d,{span:3},{default:G((function(){return[Object(n["createVNode"])("div",Z,[e.formData.volumeMounts.length>1?(Object(n["openBlock"])(),Object(n["createBlock"])(b,{key:0,class:"dynamic-delete-button",disabled:1===e.formData.volumeMounts.length,onClick:function(r){return e.removeVolume(t)}},null,8,["disabled","onClick"])):Object(n["createCommentVNode"])("",!0)])]})),_:2},1024)]})),_:2},1024)]})),_:2},1032,["label"])})),128)),Object(n["createVNode"])(l,null,{default:G((function(){return[Object(n["createVNode"])(p,{type:"dashed",class:"dynamic-add-button",onClick:e.addVolume},{default:G((function(){return[Object(n["createVNode"])(f),ee]})),_:1},8,["onClick"])]})),_:1}),Object(n["createVNode"])(l,{label:"备注信息",name:"description"},{default:G((function(){return[Object(n["createVNode"])(v,{value:e.formData.description,"onUpdate:value":t[8]||(t[8]=function(t){return e.formData.description=t}),rows:10},null,8,["value"])]})),_:1})]})),_:1},8,["model","rules"])]})),_:1},8,["visible","confirm-loading","onOk"])})),re=(r("a15b"),function(e){Object(C["a"])(r,e);var t=Object(T["a"])(r);function r(){var e;return Object(V["a"])(this,r),e=t.call(this,arguments),e.visible=!1,e.loading=!1,e.formData={requests:{},args:[{}],volumeMounts:[{}]},e.rules={name:[{required:!0,message:"请填写 名称 .",trigger:"blur"}],projectName:[{required:!0,message:"请填写 项目名称 .",trigger:"blur"}],clusterName:[{required:!0,message:"请填写 集群名称 .",trigger:"blur"}],kind:[{required:!0,message:"请填写 kind .",trigger:"blur"}],requests:[{validator:function(e,t){return t?t.cpu?t.memory?isNaN(Number(t.cpu))?Promise.reject("CPU 大小 请填写数字 ."):isNaN(Number(t.memory))?Promise.reject("硬盘 大小 请填写数字 ."):Promise.resolve():Promise.reject("请填写 申请 硬盘 大小 ."):Promise.reject("请填写 申请 CPU 大小 ."):Promise.reject("请填写 申请空间 .")},trigger:"blur",required:!0}],command:[{required:!0,message:"请填写 命令 .",trigger:"blur"}],args:[{validator:function(e,t){return console.log(t),Object(E["find"])(t,(function(e){return!e.name||!e.default||!e.description}))?Promise.reject("请保证 名称 默认值 备注信息 不为空 ."):Promise.resolve()},trigger:"blur",required:!0}],volumeMounts:[{validator:function(e,t){return Object(E["find"])(t,(function(e){return!e.name||!e.mountPath}))?Promise.reject("请保证 名称 磁盘路径 不为空 ."):Promise.resolve()},trigger:"blur",required:!0}],description:[{required:!0,message:"请填写 备注 .",trigger:"blur"}]},e}return Object(y["a"])(r,[{key:"showModal",value:function(e){delete e._XID,this.formData=Object(g["a"])(Object(g["a"])({},e),{},{command:e.command.join(" ")}),this.loading=!1,this.visible=!0}},{key:"removeArgs",value:function(e){var t=this.formData.args.indexOf(e);-1!==t&&this.formData.args.splice(t,1)}},{key:"addArgs",value:function(){this.formData.args.push({})}},{key:"removeVolume",value:function(e){var t=this.formData.volumeMounts.indexOf(e);-1!==t&&this.formData.volumeMounts.splice(t,1)}},{key:"addVolume",value:function(){this.formData.volumeMounts.push({})}},{key:"handleOk",value:function(){var e=Object(N["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.form.validate().then(Object(N["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loading=!0,e.next=3,t.putConsoleTaskTemplatePost(Object(g["a"])(Object(g["a"])({},t.formData),{},{requests:{cpu:Number(t.formData.requests.cpu),memory:Number(t.formData.requests.memory)},command:t.formData.command.split(" ")}));case 3:if(r=e.sent,!r.err&&!r.errmsg){e.next=9;break}return e.next=7,L["a"].error(r.errmsg||"修改失败 .");case 7:e.next=11;break;case 9:return e.next=11,L["a"].success("修改成功 .");case 11:return t.loading=!1,t.visible=!1,e.next=15,t.$emit("refresh");case 15:return e.abrupt("return",e.sent);case 16:case"end":return e.stop()}}),e)})))).catch((function(e){return e}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"putConsoleTaskTemplatePost",get:function(){return Object(w["useAction"])(P).putConsoleTaskTemplatePost}}]),r}(w["Vue"]));re=Object(D["a"])([Object(w["Component"])({components:{MinusCircleOutlined:$["a"],PlusOutlined:F["a"]}})],re);var ne=re;r("0a61");ne.render=te,ne.__scopeId="data-v-906c3720";var ae=ne,oe=r("d4fc"),ce=function(e){Object(C["a"])(r,e);var t=Object(T["a"])(r);function r(){var e;return Object(V["a"])(this,r),e=t.call(this,arguments),e.value="lucy",e.tableRules={name:[{required:!0,message:"请填写 名称 .",trigger:"blur"}],image:[{required:!0,message:"请填写 镜像地址 .",trigger:"blur"}],description:[{required:!0,message:"请填写 备注 .",trigger:"blur"}],kind:[{required:!0,message:"请填写 kind .",trigger:"blur"}]},e}return Object(y["a"])(r,[{key:"editSubmit",value:function(){var e=Object(N["a"])(regeneratorRuntime.mark((function e(t){var r,n,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=Object(oe["a"])(this.xTable),n=r.validate,e.abrupt("return",n().then(Object(N["a"])(regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=Object(g["a"])({},t),delete r._XID,e.next=4,a.putConsoleTaskTemplatePost(r);case 4:if(n=e.sent,!n.err&&!n.errmsg){e.next=8;break}return e.next=8,L["a"].error(n.errmsg||"修改失败 .");case 8:return e.next=10,a.reloadData();case 10:case"end":return e.stop()}}),e)})))).catch((function(e){console.log(111,e)})));case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"deleteRow",value:function(){var e=Object(N["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.delConsoleTaskTemplateName(t);case 2:if(r=e.sent,!r.err&&!r.errmsg){e.next=8;break}return e.next=6,L["a"].error(r.errmsg||"删除失败 .");case 6:e.next=10;break;case 8:return e.next=10,L["a"].success("删除成功 .");case 10:return e.next=12,this.reloadData();case 12:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"reloadData",value:function(){var e=Object(N["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.consoleTaskTemplate({});case 2:return e.next=4,this.xTable.reloadData(this.tableData.clusterList);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"created",value:function(){var e=Object(N["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.reloadData();case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"tableData",get:function(){return Object(w["useState"])(P).tableData}},{key:"consoleTaskTemplate",get:function(){return Object(w["useAction"])(P).consoleTaskTemplate}},{key:"putConsoleTaskTemplatePost",get:function(){return Object(w["useAction"])(P).putConsoleTaskTemplatePost}},{key:"delConsoleTaskTemplateName",get:function(){return Object(w["useAction"])(P).delConsoleTaskTemplateName}}]),r}(w["Vue"]);ce=Object(D["a"])([Object(w["Component"])({components:{SearchOutlined:R["a"],Create:z,Edit:ae}})],ce);var ue=ce;r("fda0");ue.render=k,ue.__scopeId="data-v-1e927b7e";t["default"]=ue},"6af5":function(e,t,r){"use strict";r("aaa7")},"9c7b":function(e,t,r){},a15b:function(e,t,r){"use strict";var n=r("23e7"),a=r("44ad"),o=r("fc6a"),c=r("a640"),u=[].join,l=a!=Object,i=c("join",",");n({target:"Array",proto:!0,forced:l||!i},{join:function(e){return u.call(o(this),void 0===e?",":e)}})},aaa7:function(e,t,r){},c973:function(e,t,r){"use strict";r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return d}));r("b0c0"),r("96cf");var n=r("1da1"),a=r("bee2"),o=r("d4ec"),c=r("262e"),u=r("2caf"),l=r("964b"),i=r("eab1"),s=function(e){Object(c["a"])(r,e);var t=Object(u["a"])(r);function r(){var e;return Object(o["a"])(this,r),e=t.call(this),e.clusterList=[],e}return r}(i["a"]),d=function(e){Object(c["a"])(r,e);var t=Object(u["a"])(r);function r(){return Object(o["a"])(this,r),t.apply(this,arguments)}return Object(a["a"])(r,[{key:"consoleTaskTemplate",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.http.get("/console/taskTemplate",t));case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"consoleTaskTemplatePost",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.http.post("/console/taskTemplate/post",t));case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"putConsoleTaskTemplatePost",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.http.put("/console/taskTemplate/post",t));case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"delConsoleTaskTemplateName",value:function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.http.delete("/console/taskTemplate/".concat(t.name),{}));case 1:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),r}(l["Service"])},d4fc:function(e,t,r){"use strict";var n=r("a449");r.d(t,"a",(function(){return n["b"]}))},d6e8:function(e,t,r){},eab1:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r("d4ec"),a=function e(){Object(n["a"])(this,e)}},fda0:function(e,t,r){"use strict";r("d6e8")}}]);