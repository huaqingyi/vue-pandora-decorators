{"version":3,"sources":["../src/vuex/service.ts"],"names":[],"mappings":";;;AAOa,QAAA,QAAQ,GAA6B,EAAE,CAAC;AAErD,MAAa,OAAO;IAIT,MAAM,KAAK,QAAQ;QACtB,OAAO,gBAAQ,CAAC;IACpB,CAAC;IAEM,MAAM,CAAC,UAAU,CAAC,EAAU;QAC/B,OAAO,gBAAQ,CAAC,EAAE,CAAC,CAAC;IACxB,CAAC;IAEM,MAAM,CAAC,KAAK;QACf,OAAO,OAAO,CAAC;IACnB,CAAC;CACJ;AAfD,0BAeC;AAID,SAAgB,UAAU,CAAI,OAAwB;IAClD,IAAI,CAAC,OAAO,CAAC,EAAE,EAAE;QACZ,OAAe,CAAC,EAAE,GAAG,MAAM,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC,QAAQ,EAAE,CAAC,SAAS,CAAC,CAAC,EAAE,EAAE,CAAC,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;KACrG;IACD,IAAI,CAAC,gBAAQ,CAAC,OAAO,CAAC,EAAE,CAAC,EAAE;QAAE,gBAAQ,CAAC,OAAO,CAAC,EAAE,CAAC,GAAG,IAAI,OAAO,EAAE,CAAC;KAAE;IACpE,OAAQ,OAAe,CAAC,UAAU,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;AACnD,CAAC;AAND,gCAMC","file":"../../vuex/service.js","sourcesContent":["import { AxiosInstance } from 'axios';\n\n// tslint:disable-next-line:interface-name\nexport interface VuexService {\n    http: AxiosInstance;\n}\n\nexport const _service: { [x: number]: Service } = {};\n\nexport class Service implements VuexService {\n    public http!: AxiosInstance;\n    public static id: number;\n\n    public static get _service() {\n        return _service;\n    }\n\n    public static getService(id: number) {\n        return _service[id];\n    }\n\n    public static _root() {\n        return Service;\n    }\n}\n\nexport declare type ServiceClass<V> = (new (...args: any[]) => V & Service) & typeof Service;\n\nexport function useService<S>(Service: ServiceClass<S>): S {\n    if (!Service.id) {\n        (Service as any).id = Number(Math.random().toString().substring(3, 10) + Date.now()).toString(36);\n    }\n    if (!_service[Service.id]) { _service[Service.id] = new Service(); }\n    return (Service as any).getService(Service.id);\n}\n"]}